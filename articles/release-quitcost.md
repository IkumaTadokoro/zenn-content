---
title: "「無職になったらいくらかかる？」を調べるサービスをリリースしました！"
emoji: "💰" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: ["rails", "ruby", "vue", "tailwindcss", "個人開発"] # タグ。["markdown", "rust", "aws"]のように指定する
published: false # 公開設定（falseにすると下書き）
---

昨今、エンジニア界隈への転職は賑わっていますよね。「今の仕事をやめて、勉強に専念して、未経験から転職するぞ！」という方も多くいらっしゃると思います。

でもちょっと待ってください。仕事をやめたらお金は大丈夫ですか？

今は大体月10万円くらいで過ごしているから、1年勉強するなら貯金が10万円 × 12ヶ月 = 120万円あればOK...ではなく、今まで会社が天引き・折半していたお金を、会社をやめたら自分で払う必要が出てきます。

いざ調べてみると、どんなお金を払うのか？計算方法はどうするのか？まあややこしいです。

というわけで、そんなお金を一括で計算してくれるサービスをリリースしました🎉

![](/images/release-quitcost/introduction.gif)

## サービスURL

![](/images/release-quitcost/ogp.png)

**サービスURL**
https://quitcost.herokuapp.com/

**リポジトリ**
https://github.com/IkumaTadokoro/quitcost

## サービスの概要

![](/images/release-quitcost/description.png)

**quitcost（クイットコスト）** は、 **「転職準備のためにしばらく無職になる予定だけど、『どんな』お金が『いくら』かかるのかわかりづらい」** という問題を解決するためのサービスです！

「退職予定月」「年齢」「所得」などいくつかの質問に答えることで、 無職になった際の「国民健康保険」「国民年金」「住民税」の金額を簡単に知ることができます。

**主な使用技術**：Ruby / Ruby on Rails / Vue.js / Tailwind CSS / PostgreSQL / Docker / GitHub Actions / Heroku

## サービスを作ったきっかけ

### 自分も仕事をやめて無職になったから

私は現在、エンジニアを目指して[FJORD BOOT CAMP](https://bootcamp.fjord.jp/)で勉強しており、勉強を始めてからしばらくして仕事をやめました。

いざやめると決意したとき、「どういう手続きが必要なんだろう？」「どのくらいお金がかかるんだろう」と思い調べたんですが、 **これがまあわかりづらかった** んですよね。

まずどんなワードで検索すればいいかわからないし、所得が関わってくる実際の金額や個人情報が掲載されている帳票はネット上ではうまく収集できません。

最終的に役所に電話をして自分が調べたことの確証を得ることができたのですが、退職はそれ自体が結構エネルギーのいるもので、かつ頻繁に発生するイベントでもないので、個人で時間をかけてそこまで調べるのもなかなか難しいと思います。

こうして実際にやめる際に仕組みの複雑を実感したこと、またFJORD BOOT CAMPの中でも仕事をやめて勉強をしている方が多くいたこと、これらをきっかけにこのサービスを作ろうと思いました

### 「わかりづらさ」「煩雑さ」に対して自分にできることをしていきたいという思い

私たちの生活の中には「使いづらい」「わかりづらい」と不満を感じるような仕組みがまだまだたくさんあると感じていて、今回の金額計算についてもその一つだと感じています。

そういった不満をそのまま声にしていくことも、意見をあげるという意味で大切です。

でも自分個人としては「**誰かがどうにかしてくれるのを待つんじゃなくて、自分でなんかいい感じにしたい！**」と思っています。

そんな思いも相まって、今回自分が退職するにあたって「わかりづらい」と感じた部分を解決してくれるようなサービスを作ることにしました。

## 工夫 / こだわったポイント
### 質問を極限まで減らした

このサービスでお尋ねする質問は以下の6種類です。

![](/images/release-quitcost/question.png)

もっと厳密に計算を行うとなると、より多くの項目をヒアリングしないといけません。

しかし、このサービスは **「転職準備のためにしばらく無職になる予定だけど、『どんな』お金が『いくら』かかるのかわかりづらい」** という問題を解決するために開発したものです。

そのため、**「厳密さ」よりも「わかりやすさ」を重視して**、質問数を極限まで絞りました。

これには認知負担的な意味の「わかりやすさ」を向上させる意味もありますが、なにより回避したかったのは **「給与明細や住民税決定通知書がない、もしくは探すのが面倒で離脱してしまう」** というケースです。

一般的に給与明細や住民税決定通知書って日常的に使うものではないですよね？なので、「いざ調べよう」と思った時にすぐに出なかったり、見つからなかったりします。私も全然見つかりませんでした😅

そのため帳票がなくてもざっくり計算できるように、金額関連の項目は、なんとなくはわかるであろう「所得」（年収）とそこから算出できる 「社会保険料」のみに絞りました。

![](/images/release-quitcost/insurance_complete.gif)

なお社会保険料は「おまかせ入力」ボタンを使用することで、給与からざっくり自動補完できます。

### ウィザード形式で離脱させない

![](/images/release-quitcost/wizard-form.gif)

入力に迷わないように一括入力のフォームではなく、ウィザード形式のフォームを採用しました。

市区町村によっては以下のような国民健康保険料の計算のためのExcelシートをHPで公開しており、自分も使ってみたのですが、「各項目の制約がわかりづらい」「どの項目を入力したらよいのかわかりづらい」と感じました。

![](/images/release-quitcost/chiyodaku_excel.png)
*出典：https://www.city.chiyoda.lg.jp/koho/kurashi/hoken/kenkohoken/kesan.html*

そのためこのサービスではステップバイステップ形式で質問していくことにしました。

### 市区町村情報を管理するためのライブラリ（Gem）を別途開発

最後はユーザー側には関係なく開発の話です。

このサービスでは計算のために、「各市区町村別の国民健康保険料の料率」をDBに保持して、管理画面に表示しています。

![](/images/release-quitcost/admin.png)

保険料率は（年度, 市区町村）ごとに変わるので、正規化を行うと「市区町村の情報を管理するテーブル」を別途作らなければならず、それを管理するための画面も実装する必要があります。

市区町村の情報はほとんど変わりませんが、合併等でたまに変わることもあり、テーブル・画面の実装コストと情報を追いかけるのが手間です。

そこでこのサービスの開発に先立って、市区町村（地方公共団体）の情報を管理するためのGemを開発しました。

https://github.com/IkumaTadokoro/jp_local_gov

このGemでは各市区町村ごとに一意に割り当てられた「地方公共団体コード」をKeyに、各市区町村の情報を展開することができます。
RailsのModelクラスで使用することも想定しており、今回は国民健康保険料のModelに組み込むことで、DBに値を保存することなく画面上に市区町村の情報を表示しています。

![img.png](/images/release-quitcost/admin-table.png)

またデータの更新はGitHub Actionsを用いて自動化しており、メンテナンスに気を取られることなく、サービス開発を行うことができました。

## 大変だったこと

今回のサービスでは「国民健康保険料」「国民年金」「住民税」の3種類の金額を計算するのですが、それぞれがどのように計算されるのかを理解するのが一番大変でした。

各種自治体のHPや地方税法、自身の実例からの解読、それでもわからない部分は[税理士試験の過去問](https://www.amazon.co.jp/%E7%A8%8E%E7%90%86%E5%A3%AB-%E8%A8%88%E7%AE%97%E5%95%8F%E9%A1%8C-%E9%81%8E%E5%8E%BB%E5%95%8F%E9%A1%8C%E9%9B%86-2022%E5%B9%B4%E5%BA%A6-%E7%A8%8E%E7%90%86%E5%A3%AB%E5%8F%97%E9%A8%93%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA/dp/4813298311/ref=pd_vtp_sccl_1/355-5928316-7469603?pd_rd_w=OiauY&pf_rd_p=ae64b7f5-458b-4e9a-9b07-1feecb909091&pf_rd_r=B0H7514VWB6M5E335RSC&pd_rd_r=5e60a301-f358-4cf1-9bec-0edece8676d3&pd_rd_wg=bZaIu&pd_rd_i=4813298311&psc=1)を購入して調べました。

また仕様的に実装に困った際にFJORD BOOT CAMP内で質問しようと思っても、この領域に一番詳しいのが自分（のはず）なので、直接的な回答をいただくのが難しいことも苦労したポイントです。

対策としては「毎日日報^[FJORD BOOT CAMPでは生徒は日報で学習を記録する]を書く」「毎週進捗報告会^[FJORD BOOT CAMPの中で実施されている自作サービス開発中の人を対象にした報告会]に参加する」「詰まったら妻や質問・雑談タイム^[FJORD BOOT CAMPの中で...略]で雑談する」など、とにかく頭の中にあることを定期的に外に出すようにしました。

テディベア効果を期待してのものだったのですが、実際に詰まった時には話をした10分後に解決策が思い付いたりしていたので、やり方としてはよかったのかなと思っています😄

## 今後改善したいポイント
### 市区町村ごとの保険料率データの自動取得

国民健康保険料のデータは条例や市区町村のHPで公開されているのですが、いずれもAPIによる配信はありません。なので人力入力です。

仕様として該当都市のレコードがなかったら、その都市の都道府県庁所在地のレコードにフォールバックされるように作っているので、とりあえずは動くのですが、厳密性は失われてしまうので、各自治体別の情報をサクッと収集できるようにしたいと思っています。

[条例Webアーカイブデータベース](https://jorei.slis.doshisha.ac.jp/)からAPIでデータを取得して、それを解析する形にできれば一番いいのですが、まずAPIがないのと、市区町村によって微妙にレイアウトの違う条文から指定の値だけ取得する技術が自分にないので、もう少し先になりそうです...。

### 計算の精度を上げる

現在の計算では、細かい軽減適用や扶養等は適応できていません。つまり実際の計算結果よりも安くなる可能性があります。

ただオプションを適用するとなるとインプット項目を増やす必要がありますが、 現時点で最大10問あるので、これ以上増やすと認知的負荷が高いなあと思っています。

もう少し厳密に計算するモードを別途作成するか、UIで工夫をして、入力負荷を抑えつつ、計算精度を上げていきたいと考えています。

## おわりに

「無職になるとき」というだいぶ限られた使用用途なので、普段使いのサービスにはならないと思います😅
ですが細々とメンテナンスしていこうと思いますので、「仕事やめてしばらく勉強しようかな、のんびりしようかな」と思った時には使っていただけるととても嬉しいです！

もし使ってみてフィードバックがあれば、以下のリポジトリのIssueからご連絡いただければと思います。

https://github.com/IkumaTadokoro/quitcost/issues/new/choose

---

この記事は[Yuta Miyama](https://twitter.com/jp_miyama)さんが個人開発をしている「記事の下書きを楽にするアプリ『Suiko』で下書きを作成しました。
ベータテスター受付中とのことなので、興味のある方は是非連絡してみてください。

https://note.com/kenzan100/n/nc28964ba3264
https://kenzan100.github.io/suiko/ja/
